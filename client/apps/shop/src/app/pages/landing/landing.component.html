<section class="p-y-l">
  <div class="ta-center">
    <h1 class="title starting-line">Sanghamitra Collections</h1>
  </div>

  <div class="grid connecting-line">

    <ng-container *ngFor="let collection of collections$ | async; first as first">
      <div *ngIf="first; else notFirst;" class="col-12" (click)="goToSingle(collection.id)">
        <div class="cs-pointer bg-primary relative h-full">
          <div class="aspect-ratio" data-ratio="16:9">
            <img
              class="aspect-item"
              src="assets/images/empty.svg"
              [jfsLibraryImage]="collection.image">
          </div>
          <div class="ta-center p-a-xs">{{collection.name}}</div>
        </div>
      </div>

      <ng-template #notFirst>
        <div class="col-4 col-s-6 col-xs-12" (click)="goToSingle(collection.id)">
          <div class="cs-pointer bg-primary relative h-full">
            <div class="aspect-ratio" data-ratio="16:9">
              <img
                class="aspect-item"
                src="assets/images/empty.svg"
                [jfsLibraryImage]="collection.image">
            </div>
            <div class="ta-center p-a-xs">{{collection.name}}</div>
          </div>
        </div>
      </ng-template>
    </ng-container>
  </div>

  <div class="connecting-line ending-line">
    <div class="ta-center p-y-m">
      <a class="title ff-primary fs-20 link" routerLink="/shop">Browse all products</a>
    </div>
  </div>
</section>


<ng-template #popup>
  <button class="popup-close" mat-icon-button mat-dialog-close>
    <mat-icon>close</mat-icon>
  </button>
  <section class="ta-center" [formGroup]="form">
    <div class="p-y-xs">
      <img src="assets/images/logo-full.svg" alt="Sanghamitra." width="140">
    </div>
    <p class="ff-secondary m-b-xxs">Enter your email to download our Care guide for handloom and hand woven garments + receive a 15%
      discount</p>
    <mat-form-field class="spaced">
      <mat-label>Email</mat-label>
      <input type="email" matInput formControlName="email" name="email">
    </mat-form-field>
    <br/>
    <button type="submit" mat-raised-button color="primary" [jpLoadClick]="subscribe()" [disabled]="form.invalid">Subscribe & Download</button>
  </section>
</ng-template>
